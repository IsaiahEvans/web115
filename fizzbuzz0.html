<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WEB115 — FizzBuzz 0</title>

  <!-- correct CSS path -->
  <link rel="stylesheet" href="styles/default.css" />

  <!-- fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@600;800&display=swap" rel="stylesheet">
</head>
<body>
  <!-- reusable header -->
  <div data-include="components/header.html"></div>

  <main id="content" class="wrap" role="main">
    <h2>FizzBuzz 0</h2>

    <!-- Greeting target -->
    <h3 id="greeting" class="mt-1 center">Welcome to Streamline Studios!</h3>

    <!-- Form -->
    <form id="nameForm" class="mt-2" novalidate>
      <div class="center">
        <input type="text" id="first_name" placeholder="Enter your first name" required>
        <input type="text" id="middle_initial" placeholder="M" maxlength="1" aria-label="Middle initial (optional)">
        <input type="text" id="last_name" placeholder="Enter your last name" required>
        <button class="button" type="submit">Show Greeting &amp; Start</button>
      </div>
      <p id="errors" class="center small" style="color:#b00020;margin-top:.5rem;"></p>
    </form>

    <!-- Output -->
    <section class="mt-2" aria-labelledby="output-title">
      <h3 id="output-title">Output</h3>
      <ol id="output" class="mt-1"></ol>
    </section>

    <!-- Validator links (optional here; also in footer) -->
    <p class="small">
      <a href="https://validator.w3.org/nu/" target="_blank" rel="noopener">HTML Validator</a> ·
      <a href="https://jigsaw.w3.org/css-validator/" target="_blank" rel="noopener">CSS Validator</a>
    </p>
  </main>

  <!-- reusable footer -->
  <div data-include="components/footer.html"></div>

  <!-- required scripts -->
  <script src="https://lint.page/kit/880bd5.js" crossorigin="anonymous"></script>
  <script src="scripts/HTMLInclude.js"></script>

  <!-- Page script -->
  <script>
    const cap = s => s ? s.trim().toLowerCase().replace(/^\w/, c => c.toUpperCase()) : "";

    const form = document.getElementById("nameForm");
    const greetingEl = document.getElementById("greeting");
    const errorsEl = document.getElementById("errors");
    const outputEl = document.getElementById("output");

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      errorsEl.textContent = "";
      outputEl.innerHTML = "";

      const first = cap(document.getElementById("first_name").value);
      const midRaw = document.getElementById("middle_initial").value.trim();
      const middle = midRaw ? midRaw[0].toUpperCase() : "";
      const last  = cap(document.getElementById("last_name").value);

      if (!first || !last) {
        errorsEl.textContent = "Please enter your first and last name.";
        (!first ? document.getElementById("first_name") : document.getElementById("last_name")).focus();
        return;
      }

      // Greeting (brand-consistent)
      const fullName = middle ? `${first} ${middle}. ${last}` : `${first} ${last}`;
      greetingEl.textContent = `Welcome to Streamline Studios, ${fullName}!`;

      // Prompt for limit (personalized)
      let limit = null;
      while (limit === null) {
        const raw = prompt(`How high do you want to count, ${first}? (1–125 suggested)`);
        if (raw === null) { limit = 125; break; }
        const n = parseInt(raw, 10);
        if (Number.isFinite(n) && n > 0) limit = n;
        else alert("Please enter a valid positive number.");
      }

      // On-brand two-word theme
      const THEME1 = "Turbo";
      const THEME2 = "Traction";

      for (let i = 1; i <= limit; i++) {
        const li = document.createElement("li");
        const parity = (i % 2 === 0) ? "even" : "odd";
        li.textContent = `${THEME1} ${THEME2} — the number is ${parity}`;
        outputEl.appendChild(li);
      }
    });
  </script>
</body>
</html>
